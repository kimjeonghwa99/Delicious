<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Delicious - 내 주변 찾기</title>

  <style>
    body { margin: 0; font-family: system-ui, -apple-system, Arial, sans-serif; background:#fafafa; }
    header { padding: 12px 16px; border-bottom: 1px solid #eee; background:#fff; }
    #controls { display: flex; gap: 8px; padding: 12px 16px; border-bottom: 1px solid #eee; background:#fff; }
    button { flex: 1; padding: 12px 0; border: 1px solid #ddd; background: #fff; border-radius: 10px; cursor: pointer; }
    button:hover { background:#f2f2f2; }
    #info { padding: 12px 16px; color:#666; font-size: 14px; }
  </style>
</head>

<body>
  <header><b>Delicious</b> — 현재 위치 기반 주변 검색</header>

  <div id="controls">
    <button onclick="openNaverSearch('음식점')">음식점</button>
    <button onclick="openNaverSearch('카페')">카페</button>
    <button onclick="openNaverSearch('버스정류장')">버스</button>
    <button onclick="openNaverSearch('지하철역')">지하철</button>
  </div>

  <div id="info">
    버튼을 누르면 현재 위치 기준으로 네이버 지도 검색 결과가 새 탭으로 열립니다.
  </div>

  <script>
    function openNaverSearch(keyword) {
      if (!navigator.geolocation) {
        alert('이 브라우저는 위치 기능을 지원하지 않습니다.');
        return;
      }

      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const lat = pos.coords.latitude;
          const lng = pos.coords.longitude;

          // /p/search/ 로 열어야 네이버 지도 홈(추천) 대신 검색 결과로 바로 갑니다.
          const url =
            `https://map.naver.com/p/search/${encodeURIComponent(keyword)}?c=${lng},${lat},15,0,dh`;

          window.open(url, '_blank', 'noopener,noreferrer');
        },
        () => alert('위치 권한을 허용해주세요.')
      );
    }
  </script>
</body>
</html>
